<br>
<br>
<app-toasts aria-live="polite" aria-atomic="true"></app-toasts>
<br>
<br>
<div class="row">
    <div class="col-3"></div>
    <div class="col-7">
<form [formGroup]="rForm" (ngSubmit)="addUser()" novalidate>
    <div class="form-group">
        <label for="nombre">Nombre</label>
        <input type="text" formControlName="name" class="form-control" id="nombre" [ngClass]="{ 'is-invalid': submitted && addForm.name.errors }"
            placeholder="Nombre">
        <div *ngIf="addForm.name.invalid && (addForm.name.dirty || addForm.name.touched )" class="alert alert-danger">
            <div *ngIf="addForm.name.errors.required">
                Name is required.
            </div>
            <div *ngIf="addForm.name.errors.minlength">
                Name tiene que tener 6 letras
            </div>
            <div *ngIf="addForm.name.errors.maxlength">
                Name tiene que tener menos de 12 letras
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="email">Email address</label>
        <input type="email" formControlName="email" class="form-control" id="email" [ngClass]="{ 'is-invalid': submitted && addForm.email.errors }"
            placeholder="Ej: hola@gmail.com">
        <div *ngIf="addForm.email.invalid && (addForm.email.dirty || addForm.email.touched )" class="alert alert-danger">
            <div *ngIf="addForm.email.errors.required">
                Email is required.
            </div>
            <div *ngIf="addForm.email.errors.email">
                Email invalid.
            </div>
            <div *ngIf="addForm.email.errors.minlength">
                Email tiene que tener 6 letras
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="phone">Phone</label>
        <input type="text" formControlName="phone" class="form-control" id="phone" [ngClass]="{ 'is-invalid': submitted && addForm.phone.errors }"
            placeholder="Phone">
        <div *ngIf="addForm.phone.invalid && (addForm.phone.dirty || addForm.phone.touched )" class="alert alert-danger">
            <div *ngIf="addForm.phone.errors?.required">
                Phone is required.
            </div>
            <div *ngIf="addForm.phone.errors?.minlength">
                Phone tiene que tener 6 letras
            </div>
            <div *ngIf="addForm.phone.errors?.maxlength">
                Phone tiene que tener menos de 11 letras
            </div>
        </div>
    </div>
    <div class="row">
    <div class="form-group col-6">
        <label for="cargo">Cargo</label>
        <select class="custom-select" id="cargo" formControlName="idCargo" [ngClass]="{ 'is-invalid': submitted && addForm.idCargo.errors }">
            <option selected disabled value>Seleccionar Cargo</option>
            <option *ngFor="let cargo of cargos$ | async" [value]="cargo.idCargo">{{cargo.nombre}}</option>
        </select>
        <div *ngIf="addForm.idCargo.invalid && (addForm.idCargo.dirty || addForm.idCargo.touched )" class="alert alert-danger">
                <div *ngIf="addForm.idCargo.errors?.required">
                    Cargo es requerido.
                </div>
            </div>
    </div>
    <div class="form-group col-6">
        <label for="proyecto">Proyecto</label>
        <select class="custom-select" id="proyecto" formControlName="idProyecto" [ngClass]="{ 'is-invalid': submitted && addForm.idProyecto.errors }">
            <option selected disabled value>Seleccionar Proyecto</option>
            <option *ngFor="let proyecto of proyectos$ | async" [value]="proyecto.idProyecto">{{proyecto.nombre}}</option>
        </select>
        <div *ngIf="addForm.idProyecto.invalid && (addForm.idProyecto.dirty || addForm.idProyecto.touched )" class="alert alert-danger">
                <div *ngIf="addForm.idProyecto.errors?.required">
                    Proyecto es requerido.
                </div>
            </div>
    </div>
</div>
        <button type="submit" [disabled]="rForm.invalid" class="btn btn-outline-success">Agregar</button>
</form>
<p>Form status: {{ rForm.status | json }}</p>
</div>
<div class="col-2"></div>
</div>